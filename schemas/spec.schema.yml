---
$schema: https://json-schema.org/draft-07/schema
$id: https://example.com/draft/schema
title: OpenTimeline Document
description: Definition of timeseries events.
definitions:
  record:
    title: Timeline Record
    type: object
    additionalProperties: true
    properties:
      title:
        title: Title
        type: string
      notes:
        title: Notes
        type: string
    required:
      - title
type: object
additionalProperties: true
properties:
  color:
    title: Color
    type: string
    examples:
      - '#FF0000'
      - transparent
      - audio
      - video
  identity:
    title: Identity
    type: object
    additionalProperties: true
    required:
      - id
    properties:
      id:
        title: ID
        type: string
      name:
        title: Name
        type: string
      born:
        title: Date of Birth
        type: string
      died:
        title: Date of Death
        type: string
      relations:
        title: Relations
        type: array
        items:
          anyOf:
            - title: Marriage
              type: object
              required:
                - marriedTo
              properties:
                marriedTo:
                  type: string
                since:
                  type: string
                as:
                  type: string
            - title: Fatherhood
              type: object
              required:
                - fatherOf
              properties:
                fatherOf:
                  type: string
            - title: Motherhood
              type: object
              required:
                - motherOf
              properties:
                motherOf:
                  type: string
  prefix:
    title: Prefix
    type: string
  private:
    title: Private Document
    type: boolean
    default: true
  rank:
    title: Rank
    type: number
    default: 0
  timeline:
    title: Timeline
    patternProperties:
      .+:
        title: Event
        oneOf:
          - $ref: '#/definitions/record'
          - type: string
          - type: array
            items:
              oneOf:
                - $ref: '#/definitions/record'
                - type: string
    type: object
required:
  - timeline
